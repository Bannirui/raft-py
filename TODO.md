TODO
---

- [ ] 每个节点开放了两个端口 共识算法端口和客户端端口 集群间通信用的udp 但是客户端端口转发了请求到共识端口 用udp不合适
- [ ] 现在确认提交是写在磁盘文件 这种方案跨进程共享文件存在问题
- [ ] 日志的索引是0-based 事后发现可能1-based的方式更好 初始化时候添加哨兵 可以省去很多脚标边界判断
- [ ] 日志要按照term进行归档防止内存负担
- [ ] 日志要定时快照归档防止内存负担
- [ ] 写盘日志不宜用json格式 考虑二进制
- [ ] 为了性能 zk的方式是用队列(MPSC队列)